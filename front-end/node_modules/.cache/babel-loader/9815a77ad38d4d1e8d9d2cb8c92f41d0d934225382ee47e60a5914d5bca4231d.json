{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jacks\\\\OneDrive\\\\Documents\\\\GitHub\\\\examiner_meeting_app\\\\front-end\\\\src\\\\components\\\\DataVisualization.js\";\n// src/components/DataVisualization.js\nimport React from 'react';\nimport { Container, Grid, Paper, Typography } from '@mui/material';\nimport { Bar, Pie, Line } from 'react-chartjs-2';\nimport { Chart as ChartJS, CategoryScale, LinearScale, BarElement, Title, Tooltip, Legend, ArcElement, PointElement, LineElement } from 'chart.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nChartJS.register(CategoryScale, LinearScale, BarElement, Title, Tooltip, Legend, ArcElement, PointElement, LineElement);\nfunction DataVisualization({\n  scores\n}) {\n  // 处理数据以生成图表所需的格式\n  const subjectScores = scores.reduce((acc, score) => {\n    if (!acc[score.subject]) {\n      acc[score.subject] = [];\n    }\n    acc[score.subject].push(score.score);\n    return acc;\n  }, {});\n  const barData = {\n    labels: Object.keys(subjectScores),\n    datasets: [{\n      label: '平均分',\n      data: Object.values(subjectScores).map(scores => scores.reduce((sum, score) => sum + score, 0) / scores.length),\n      backgroundColor: 'rgba(75, 192, 192, 0.6)'\n    }]\n  };\n  const scoreRanges = {\n    '90-100': 0,\n    '80-89': 0,\n    '70-79': 0,\n    '60-69': 0,\n    '<60': 0\n  };\n  scores.forEach(score => {\n    if (score.score >= 90) scoreRanges['90-100']++;else if (score.score >= 80) scoreRanges['80-89']++;else if (score.score >= 70) scoreRanges['70-79']++;else if (score.score >= 60) scoreRanges['60-69']++;else scoreRanges['<60']++;\n  });\n  const pieData = {\n    labels: Object.keys(scoreRanges),\n    datasets: [{\n      data: Object.values(scoreRanges),\n      backgroundColor: ['rgba(255, 99, 132, 0.6)', 'rgba(54, 162, 235, 0.6)', 'rgba(255, 206, 86, 0.6)', 'rgba(75, 192, 192, 0.6)', 'rgba(153, 102, 255, 0.6)']\n    }]\n  };\n\n  // 生成学生总分数据\n  const studentTotalScores = scores.reduce((acc, score) => {\n    if (!acc[score.name]) {\n      acc[score.name] = 0;\n    }\n    acc[score.name] += score.score;\n    return acc;\n  }, {});\n  const lineData = {\n    labels: Object.keys(studentTotalScores),\n    datasets: [{\n      label: '学生总分',\n      data: Object.values(studentTotalScores),\n      fill: false,\n      borderColor: 'rgb(75, 192, 192)',\n      tension: 0.1\n    }]\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"lg\",\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h4\",\n      gutterBottom: true,\n      children: \"\\u6210\\u7EE9\\u6570\\u636E\\u53EF\\u89C6\\u5316\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 3,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        md: 6,\n        children: /*#__PURE__*/_jsxDEV(Paper, {\n          elevation: 3,\n          style: {\n            padding: '20px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            children: \"\\u5404\\u79D1\\u76EE\\u5E73\\u5747\\u5206\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Bar, {\n            data: barData\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        md: 6,\n        children: /*#__PURE__*/_jsxDEV(Paper, {\n          elevation: 3,\n          style: {\n            padding: '20px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            children: \"\\u6210\\u7EE9\\u5206\\u5E03\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Pie, {\n            data: pieData\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        children: /*#__PURE__*/_jsxDEV(Paper, {\n          elevation: 3,\n          style: {\n            padding: '20px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            children: \"\\u5B66\\u751F\\u603B\\u5206\\u8D8B\\u52BF\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Line, {\n            data: lineData\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 102,\n    columnNumber: 5\n  }, this);\n}\n_c = DataVisualization;\nexport default DataVisualization;\nvar _c;\n$RefreshReg$(_c, \"DataVisualization\");","map":{"version":3,"names":["React","Container","Grid","Paper","Typography","Bar","Pie","Line","Chart","ChartJS","CategoryScale","LinearScale","BarElement","Title","Tooltip","Legend","ArcElement","PointElement","LineElement","jsxDEV","_jsxDEV","register","DataVisualization","scores","subjectScores","reduce","acc","score","subject","push","barData","labels","Object","keys","datasets","label","data","values","map","sum","length","backgroundColor","scoreRanges","forEach","pieData","studentTotalScores","name","lineData","fill","borderColor","tension","maxWidth","children","variant","gutterBottom","fileName","_jsxFileName","lineNumber","columnNumber","container","spacing","item","xs","md","elevation","style","padding","_c","$RefreshReg$"],"sources":["C:/Users/jacks/OneDrive/Documents/GitHub/examiner_meeting_app/front-end/src/components/DataVisualization.js"],"sourcesContent":["// src/components/DataVisualization.js\r\nimport React from 'react';\r\nimport { Container, Grid, Paper, Typography } from '@mui/material';\r\nimport { Bar, Pie, Line } from 'react-chartjs-2';\r\nimport {\r\n  Chart as ChartJS,\r\n  CategoryScale,\r\n  LinearScale,\r\n  BarElement,\r\n  Title,\r\n  Tooltip,\r\n  Legend,\r\n  ArcElement,\r\n  PointElement,\r\n  LineElement,\r\n} from 'chart.js';\r\n\r\nChartJS.register(\r\n  CategoryScale,\r\n  LinearScale,\r\n  BarElement,\r\n  Title,\r\n  Tooltip,\r\n  Legend,\r\n  ArcElement,\r\n  PointElement,\r\n  LineElement\r\n);\r\n\r\nfunction DataVisualization({ scores }) {\r\n  // 处理数据以生成图表所需的格式\r\n  const subjectScores = scores.reduce((acc, score) => {\r\n    if (!acc[score.subject]) {\r\n      acc[score.subject] = [];\r\n    }\r\n    acc[score.subject].push(score.score);\r\n    return acc;\r\n  }, {});\r\n\r\n  const barData = {\r\n    labels: Object.keys(subjectScores),\r\n    datasets: [{\r\n      label: '平均分',\r\n      data: Object.values(subjectScores).map(scores => \r\n        scores.reduce((sum, score) => sum + score, 0) / scores.length\r\n      ),\r\n      backgroundColor: 'rgba(75, 192, 192, 0.6)',\r\n    }]\r\n  };\r\n\r\n  const scoreRanges = {\r\n    '90-100': 0,\r\n    '80-89': 0,\r\n    '70-79': 0,\r\n    '60-69': 0,\r\n    '<60': 0\r\n  };\r\n\r\n  scores.forEach(score => {\r\n    if (score.score >= 90) scoreRanges['90-100']++;\r\n    else if (score.score >= 80) scoreRanges['80-89']++;\r\n    else if (score.score >= 70) scoreRanges['70-79']++;\r\n    else if (score.score >= 60) scoreRanges['60-69']++;\r\n    else scoreRanges['<60']++;\r\n  });\r\n\r\n  const pieData = {\r\n    labels: Object.keys(scoreRanges),\r\n    datasets: [{\r\n      data: Object.values(scoreRanges),\r\n      backgroundColor: [\r\n        'rgba(255, 99, 132, 0.6)',\r\n        'rgba(54, 162, 235, 0.6)',\r\n        'rgba(255, 206, 86, 0.6)',\r\n        'rgba(75, 192, 192, 0.6)',\r\n        'rgba(153, 102, 255, 0.6)',\r\n      ],\r\n    }]\r\n  };\r\n\r\n  // 生成学生总分数据\r\n  const studentTotalScores = scores.reduce((acc, score) => {\r\n    if (!acc[score.name]) {\r\n      acc[score.name] = 0;\r\n    }\r\n    acc[score.name] += score.score;\r\n    return acc;\r\n  }, {});\r\n\r\n  const lineData = {\r\n    labels: Object.keys(studentTotalScores),\r\n    datasets: [{\r\n      label: '学生总分',\r\n      data: Object.values(studentTotalScores),\r\n      fill: false,\r\n      borderColor: 'rgb(75, 192, 192)',\r\n      tension: 0.1\r\n    }]\r\n  };\r\n\r\n  return (\r\n    <Container maxWidth=\"lg\">\r\n      <Typography variant=\"h4\" gutterBottom>成绩数据可视化</Typography>\r\n      <Grid container spacing={3}>\r\n        <Grid item xs={12} md={6}>\r\n          <Paper elevation={3} style={{ padding: '20px' }}>\r\n            <Typography variant=\"h6\">各科目平均分</Typography>\r\n            <Bar data={barData} />\r\n          </Paper>\r\n        </Grid>\r\n        <Grid item xs={12} md={6}>\r\n          <Paper elevation={3} style={{ padding: '20px' }}>\r\n            <Typography variant=\"h6\">成绩分布</Typography>\r\n            <Pie data={pieData} />\r\n          </Paper>\r\n        </Grid>\r\n        <Grid item xs={12}>\r\n          <Paper elevation={3} style={{ padding: '20px' }}>\r\n            <Typography variant=\"h6\">学生总分趋势</Typography>\r\n            <Line data={lineData} />\r\n          </Paper>\r\n        </Grid>\r\n      </Grid>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default DataVisualization;"],"mappings":";AAAA;AACA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,SAAS,EAAEC,IAAI,EAAEC,KAAK,EAAEC,UAAU,QAAQ,eAAe;AAClE,SAASC,GAAG,EAAEC,GAAG,EAAEC,IAAI,QAAQ,iBAAiB;AAChD,SACEC,KAAK,IAAIC,OAAO,EAChBC,aAAa,EACbC,WAAW,EACXC,UAAU,EACVC,KAAK,EACLC,OAAO,EACPC,MAAM,EACNC,UAAU,EACVC,YAAY,EACZC,WAAW,QACN,UAAU;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAElBX,OAAO,CAACY,QAAQ,CACdX,aAAa,EACbC,WAAW,EACXC,UAAU,EACVC,KAAK,EACLC,OAAO,EACPC,MAAM,EACNC,UAAU,EACVC,YAAY,EACZC,WACF,CAAC;AAED,SAASI,iBAAiBA,CAAC;EAAEC;AAAO,CAAC,EAAE;EACrC;EACA,MAAMC,aAAa,GAAGD,MAAM,CAACE,MAAM,CAAC,CAACC,GAAG,EAAEC,KAAK,KAAK;IAClD,IAAI,CAACD,GAAG,CAACC,KAAK,CAACC,OAAO,CAAC,EAAE;MACvBF,GAAG,CAACC,KAAK,CAACC,OAAO,CAAC,GAAG,EAAE;IACzB;IACAF,GAAG,CAACC,KAAK,CAACC,OAAO,CAAC,CAACC,IAAI,CAACF,KAAK,CAACA,KAAK,CAAC;IACpC,OAAOD,GAAG;EACZ,CAAC,EAAE,CAAC,CAAC,CAAC;EAEN,MAAMI,OAAO,GAAG;IACdC,MAAM,EAAEC,MAAM,CAACC,IAAI,CAACT,aAAa,CAAC;IAClCU,QAAQ,EAAE,CAAC;MACTC,KAAK,EAAE,KAAK;MACZC,IAAI,EAAEJ,MAAM,CAACK,MAAM,CAACb,aAAa,CAAC,CAACc,GAAG,CAACf,MAAM,IAC3CA,MAAM,CAACE,MAAM,CAAC,CAACc,GAAG,EAAEZ,KAAK,KAAKY,GAAG,GAAGZ,KAAK,EAAE,CAAC,CAAC,GAAGJ,MAAM,CAACiB,MACzD,CAAC;MACDC,eAAe,EAAE;IACnB,CAAC;EACH,CAAC;EAED,MAAMC,WAAW,GAAG;IAClB,QAAQ,EAAE,CAAC;IACX,OAAO,EAAE,CAAC;IACV,OAAO,EAAE,CAAC;IACV,OAAO,EAAE,CAAC;IACV,KAAK,EAAE;EACT,CAAC;EAEDnB,MAAM,CAACoB,OAAO,CAAChB,KAAK,IAAI;IACtB,IAAIA,KAAK,CAACA,KAAK,IAAI,EAAE,EAAEe,WAAW,CAAC,QAAQ,CAAC,EAAE,CAAC,KAC1C,IAAIf,KAAK,CAACA,KAAK,IAAI,EAAE,EAAEe,WAAW,CAAC,OAAO,CAAC,EAAE,CAAC,KAC9C,IAAIf,KAAK,CAACA,KAAK,IAAI,EAAE,EAAEe,WAAW,CAAC,OAAO,CAAC,EAAE,CAAC,KAC9C,IAAIf,KAAK,CAACA,KAAK,IAAI,EAAE,EAAEe,WAAW,CAAC,OAAO,CAAC,EAAE,CAAC,KAC9CA,WAAW,CAAC,KAAK,CAAC,EAAE;EAC3B,CAAC,CAAC;EAEF,MAAME,OAAO,GAAG;IACdb,MAAM,EAAEC,MAAM,CAACC,IAAI,CAACS,WAAW,CAAC;IAChCR,QAAQ,EAAE,CAAC;MACTE,IAAI,EAAEJ,MAAM,CAACK,MAAM,CAACK,WAAW,CAAC;MAChCD,eAAe,EAAE,CACf,yBAAyB,EACzB,yBAAyB,EACzB,yBAAyB,EACzB,yBAAyB,EACzB,0BAA0B;IAE9B,CAAC;EACH,CAAC;;EAED;EACA,MAAMI,kBAAkB,GAAGtB,MAAM,CAACE,MAAM,CAAC,CAACC,GAAG,EAAEC,KAAK,KAAK;IACvD,IAAI,CAACD,GAAG,CAACC,KAAK,CAACmB,IAAI,CAAC,EAAE;MACpBpB,GAAG,CAACC,KAAK,CAACmB,IAAI,CAAC,GAAG,CAAC;IACrB;IACApB,GAAG,CAACC,KAAK,CAACmB,IAAI,CAAC,IAAInB,KAAK,CAACA,KAAK;IAC9B,OAAOD,GAAG;EACZ,CAAC,EAAE,CAAC,CAAC,CAAC;EAEN,MAAMqB,QAAQ,GAAG;IACfhB,MAAM,EAAEC,MAAM,CAACC,IAAI,CAACY,kBAAkB,CAAC;IACvCX,QAAQ,EAAE,CAAC;MACTC,KAAK,EAAE,MAAM;MACbC,IAAI,EAAEJ,MAAM,CAACK,MAAM,CAACQ,kBAAkB,CAAC;MACvCG,IAAI,EAAE,KAAK;MACXC,WAAW,EAAE,mBAAmB;MAChCC,OAAO,EAAE;IACX,CAAC;EACH,CAAC;EAED,oBACE9B,OAAA,CAACnB,SAAS;IAACkD,QAAQ,EAAC,IAAI;IAAAC,QAAA,gBACtBhC,OAAA,CAAChB,UAAU;MAACiD,OAAO,EAAC,IAAI;MAACC,YAAY;MAAAF,QAAA,EAAC;IAAO;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAY,CAAC,eAC1DtC,OAAA,CAAClB,IAAI;MAACyD,SAAS;MAACC,OAAO,EAAE,CAAE;MAAAR,QAAA,gBACzBhC,OAAA,CAAClB,IAAI;QAAC2D,IAAI;QAACC,EAAE,EAAE,EAAG;QAACC,EAAE,EAAE,CAAE;QAAAX,QAAA,eACvBhC,OAAA,CAACjB,KAAK;UAAC6D,SAAS,EAAE,CAAE;UAACC,KAAK,EAAE;YAAEC,OAAO,EAAE;UAAO,CAAE;UAAAd,QAAA,gBAC9ChC,OAAA,CAAChB,UAAU;YAACiD,OAAO,EAAC,IAAI;YAAAD,QAAA,EAAC;UAAM;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAY,CAAC,eAC5CtC,OAAA,CAACf,GAAG;YAAC+B,IAAI,EAAEN;UAAQ;YAAAyB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACjB;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACJ,CAAC,eACPtC,OAAA,CAAClB,IAAI;QAAC2D,IAAI;QAACC,EAAE,EAAE,EAAG;QAACC,EAAE,EAAE,CAAE;QAAAX,QAAA,eACvBhC,OAAA,CAACjB,KAAK;UAAC6D,SAAS,EAAE,CAAE;UAACC,KAAK,EAAE;YAAEC,OAAO,EAAE;UAAO,CAAE;UAAAd,QAAA,gBAC9ChC,OAAA,CAAChB,UAAU;YAACiD,OAAO,EAAC,IAAI;YAAAD,QAAA,EAAC;UAAI;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAY,CAAC,eAC1CtC,OAAA,CAACd,GAAG;YAAC8B,IAAI,EAAEQ;UAAQ;YAAAW,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACjB;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACJ,CAAC,eACPtC,OAAA,CAAClB,IAAI;QAAC2D,IAAI;QAACC,EAAE,EAAE,EAAG;QAAAV,QAAA,eAChBhC,OAAA,CAACjB,KAAK;UAAC6D,SAAS,EAAE,CAAE;UAACC,KAAK,EAAE;YAAEC,OAAO,EAAE;UAAO,CAAE;UAAAd,QAAA,gBAC9ChC,OAAA,CAAChB,UAAU;YAACiD,OAAO,EAAC,IAAI;YAAAD,QAAA,EAAC;UAAM;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAY,CAAC,eAC5CtC,OAAA,CAACb,IAAI;YAAC6B,IAAI,EAAEW;UAAS;YAAAQ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACnB;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACJ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEhB;AAACS,EAAA,GAhGQ7C,iBAAiB;AAkG1B,eAAeA,iBAAiB;AAAC,IAAA6C,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}